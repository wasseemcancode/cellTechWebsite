(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{860:(e,t,a)=>{Promise.resolve().then(a.bind(a,7431)),Promise.resolve().then(a.bind(a,1236))},1236:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var s=a(5155),n=a(2115);function l(){let[e,t]=(0,n.useState)([]),[a,l]=(0,n.useState)(!0);(0,n.useEffect)(()=>{!async function(){try{let e=await fetch("/api/reviews"),a=await e.json();t(a.reviews||[])}catch(e){console.error("Failed to fetch reviews:",e)}finally{l(!1)}}()},[]);let r=e.length>0?(e.reduce((e,t)=>e+t.rating,0)/e.length).toFixed(1):"0.0";return a?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsxs)("div",{className:"inline-flex items-center gap-3 text-white",children:[(0,s.jsx)("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Loading reviews..."})]})}):(0,s.jsxs)("div",{className:"w-full",children:[e.length>0&&(0,s.jsxs)("div",{className:"text-center mb-10 p-8 glass-card rounded-3xl hover-lift animate-scale-in",children:[(0,s.jsx)("div",{className:"text-6xl font-heading font-bold text-gradient mb-4",children:r}),(0,s.jsxs)("div",{className:"text-orange-400 text-3xl mb-4",children:["★".repeat(Math.round(Number(r))),"☆".repeat(5-Math.round(Number(r)))]}),(0,s.jsxs)("div",{className:"text-blue-100 text-lg font-medium",children:["Based on ",e.length," review",1!==e.length?"s":""]})]}),(0,s.jsx)("div",{className:"space-y-6 max-h-96 overflow-y-auto custom-scrollbar",children:0===e.length?(0,s.jsxs)("div",{className:"text-center py-16 glass-card rounded-3xl animate-fade-in-up",children:[(0,s.jsx)("div",{className:"text-8xl mb-6 animate-wave",children:"\uD83D\uDCAD"}),(0,s.jsx)("h4",{className:"text-2xl font-heading font-bold text-white mb-4",children:"No reviews yet"}),(0,s.jsx)("p",{className:"text-blue-200 text-lg",children:"Be the first to share your experience!"})]}):e.map((e,t)=>(0,s.jsxs)("div",{className:"glass-card rounded-2xl p-6 hover-lift group animate-fade-in-up",style:{animationDelay:"".concat(100*t,"ms")},children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"w-14 h-14 gradient-accent rounded-full flex items-center justify-center text-white font-bold text-lg shadow-lg",children:e.name.charAt(0).toUpperCase()}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-heading font-bold text-white text-lg",children:e.name}),(0,s.jsx)("div",{className:"text-blue-200 text-base font-medium",children:new Date(e.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"text-orange-400 text-xl",children:"★".repeat(e.rating)}),(0,s.jsxs)("span",{className:"text-orange-300 text-base font-bold ml-1",children:[e.rating,"/5"]})]})]}),(0,s.jsxs)("p",{className:"text-blue-100 leading-relaxed group-hover:text-white transition-colors text-lg",children:['"',e.text,'"']})]},e.id))})]})}},7431:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});var s=a(5155),n=a(2115);function l(e){let{value:t=0,onChange:a}=e,[l,r]=(0,n.useState)(null),i=null!=l?l:t;return(0,s.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map(e=>(0,s.jsx)("button",{type:"button",onMouseEnter:()=>r(e),onMouseLeave:()=>r(null),onClick:()=>null==a?void 0:a(e),"aria-label":"".concat(e," star").concat(e>1?"s":""),className:"\n            text-4xl transition-all duration-300 transform hover:scale-125 active:scale-110 focus-ring rounded-lg p-1\n            ".concat(i>=e?"text-orange-400 drop-shadow-2xl animate-pulse-glow":"text-white/40 hover:text-orange-300","\n            ").concat(a?"cursor-pointer hover-lift":"cursor-default","\n          "),disabled:!a,children:"★"},e))})}function r(){let[e,t]=(0,n.useState)(""),[a,r]=(0,n.useState)(0),[i,d]=(0,n.useState)(""),[o,c]=(0,n.useState)("idle"),[x,u]=(0,n.useState)("");async function h(s){if(s.preventDefault(),!a){u("Please select a star rating."),c("error");return}c("submitting"),u("");try{if(!(await fetch("/api/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e||"UF Student",rating:a,text:i})})).ok)throw Error("Failed to submit");c("success"),u("Thanks! Your review is submitted and awaiting approval."),t(""),r(0),d("")}catch(e){c("error"),u("Something went wrong. Please try again later.")}}return(0,s.jsx)("div",{className:"w-full",children:"success"===o?(0,s.jsxs)("div",{className:"glass-card rounded-3xl p-10 text-center border-green-300/20 bg-gradient-to-br from-green-500/10 to-green-600/10 animate-scale-in",children:[(0,s.jsx)("div",{className:"text-8xl mb-6 animate-bounce-subtle",children:"\uD83C\uDF89"}),(0,s.jsx)("h3",{className:"text-3xl font-heading font-bold text-white mb-4",children:"Thank You!"}),(0,s.jsx)("p",{className:"text-green-100 mb-8 text-lg",children:"Your review has been submitted and is awaiting approval."}),(0,s.jsx)("button",{onClick:()=>c("idle"),className:"glass-card hover-lift glow-on-hover button-press text-white px-8 py-4 rounded-2xl font-semibold transition-all duration-300 focus-ring",children:"Leave Another Review"})]}):(0,s.jsxs)("form",{onSubmit:h,className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white font-heading font-semibold mb-4 text-lg",children:"Your name (optional)"}),(0,s.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"UF Student",className:"w-full glass-card rounded-2xl px-6 py-4 text-white placeholder-blue-200 focus-ring transition-all duration-300 text-lg"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white font-heading font-semibold mb-4 text-lg",children:"How was your experience?"}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(l,{value:a,onChange:r}),a>0&&(0,s.jsx)("span",{className:"text-gradient font-bold text-lg animate-fade-in-up",children:5===a?"Excellent!":4===a?"Great!":3===a?"Good":2===a?"Okay":"Poor"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-white font-heading font-semibold mb-4 text-lg",children:"Tell us about your experience"}),(0,s.jsx)("textarea",{value:i,onChange:e=>d(e.target.value),rows:5,placeholder:"How was the service? What did you think of the repair quality and turnaround time?",className:"w-full glass-card rounded-2xl px-6 py-4 text-white placeholder-blue-200 focus-ring transition-all duration-300 resize-none text-lg",required:!0})]}),(0,s.jsx)("button",{disabled:"submitting"===o||!a,className:"w-full gradient-accent glow-on-hover button-press disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold py-5 px-8 rounded-2xl transition-all duration-300 shadow-2xl hover:shadow-xl transform hover:-translate-y-1 disabled:transform-none flex items-center justify-center gap-3 focus-ring text-lg",children:"submitting"===o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Submitting..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"✨"}),(0,s.jsx)("span",{children:"Submit Review"})]})}),x&&"error"===o&&(0,s.jsx)("div",{className:"glass-card rounded-2xl p-6 border-red-300/20 bg-gradient-to-br from-red-500/10 to-red-600/10 animate-fade-in-up",children:(0,s.jsx)("p",{className:"text-red-200 text-center text-lg font-medium",children:x})})]})})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=860)),_N_E=e.O()}]);